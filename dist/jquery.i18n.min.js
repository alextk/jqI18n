/*
* jqI18n - jQuery based localization mixin
*
* Version: 0.0.1
* Build: 2
* Copyright 2011 Alex Tkachev
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: 08/08/2011 10:05:57
*/

(function(a){var b=function(){this.initialize.apply(this,arguments)};a.extend(b.prototype,{initialize:function(){this._locale="en-US",this._regional={},this._regional[this._locale]={}},locale:function(a){if(arguments.length===0)return this._locale;if(!this._regional[a])throw"Locale "+a+" is not registered";this._locale=a;return this},translate:function(b,c){var d=this._regional[this._locale],e=b.split("."),f=d;for(var g=0;g<e.length-1;g++){f=f[e[g]];if(a.type(f)!="object")return b}f=f[e[e.length-1]];if(typeof f=="undefined")return b;if(arguments.length==2&&a.type(c)=="object"){for(var h in c)if(c.hasOwnProperty(h)){var i=new RegExp("%\\{"+h+"\\}","gm");f=f.replace(i,c[h])}}else if(arguments.length>1)for(var j=1;j<arguments.length;j++){var k=new RegExp("\\{"+(j-1)+"\\}","gm");f=f.replace(k,arguments[j])}return f},register:function(b,c,d){d===!0?this._regional[b]=c:this._regional[b]=a.extend(!0,this._regional[b]||{},c)}}),b.prototype.t=b.prototype.translate,a.i18n=function(){return new b}})(jQuery)